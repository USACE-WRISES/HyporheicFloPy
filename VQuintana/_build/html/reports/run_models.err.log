Traceback (most recent call last):
  File "c:\Users\u4eeevmq\Documents\Python\HyporheicFloPy\.venv\Lib\site-packages\jupyter_cache\executors\utils.py", line 58, in single_nb_execution
    executenb(
  File "c:\Users\u4eeevmq\Documents\Python\HyporheicFloPy\.venv\Lib\site-packages\nbclient\client.py", line 1319, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\u4eeevmq\Documents\Python\HyporheicFloPy\.venv\Lib\site-packages\jupyter_core\utils\__init__.py", line 165, in wrapped
    return loop.run_until_complete(inner)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python311\Lib\asyncio\base_events.py", line 653, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "c:\Users\u4eeevmq\Documents\Python\HyporheicFloPy\.venv\Lib\site-packages\nbclient\client.py", line 709, in async_execute
    await self.async_execute_cell(
  File "c:\Users\u4eeevmq\Documents\Python\HyporheicFloPy\.venv\Lib\site-packages\nbclient\client.py", line 1062, in async_execute_cell
    await self._check_raise_for_error(cell, cell_index, exec_reply)
  File "c:\Users\u4eeevmq\Documents\Python\HyporheicFloPy\.venv\Lib\site-packages\nbclient\client.py", line 918, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
#---------------------- Simulation Scenario ------------------------#
def scenario(sim_name, gwf_name, md6_exe_path, gwf_ws, nper, perlen, nstp, tsmult, botm, nrow, ncol, cell_size_x, cell_size_y, tops, idomain, xorigin, yorigin, bed_elevation, kh, kv, chd_data_converted, head_filerecord, budget_filerecord, prt_ws, mp7_ws, write, run, plot, silent=False):
    # Build the GWF model
    gwfsim, gwf = build_gwf_model(sim_name, gwf_name, md6_exe_path, gwf_ws, nper, perlen, nstp, tsmult, botm, nrow, ncol, cell_size_x, cell_size_y, tops, idomain, xorigin, yorigin, bed_elevation, kh, kv, chd_data_converted, head_filerecord, budget_filerecord)
    
    # Debug print to check if the GWF model is built
    print("GWF model built:", gwfsim)
    
    if write:
        write_models(gwfsim, silent=silent)
        
        # Debug print to check if files are written
        print("GWF files written to:", gwf_ws)
    
    if run:
        # Run the MODFLOW model
        print("Running MODFLOW model...")
        run_models(gwfsim, silent=silent)
        print("FINISHED! Running GWF MODFLOW 6")
    
    if plot:
        print("Plotting Groundwater Flow Model")
        plot_gwf_all(gwfsim)
    
    # Attempt to build, run, and plot the particle models
    try:
        prtsim, prt, mpsim, mp7 = build_particle_models(sim_name, gwf)
        
        # Debug print to check if particle models are built
        print("Particle models built:", prtsim, mpsim)
        
        if write:
            write_models(prtsim, mp7, silent=silent)
            
            # Debug print to check if files are written
            print("Particle model files written to:", prt_ws, mp7_ws)
        
        if run:
            # Run the particle models
            print("Running particle models...")
            print("Running PRT MODFLOW 6")
            run_models(prtsim, silent=silent)
            print("FINISHED! Running PRT MODFLOW 6")

            print("Running MODPATH 7")
            run_models(mp7, silent=silent)
            print("FINISHED! Running MODPATH 7")
        if plot:
            print("Plotting Particle Models")
            #plot_all(gwfsim)
    
    except Exception as e:
        print(f"An error occurred while building, running, or plotting the particle models: {e}")

# Example usage:
scenario(sim_name, gwf_name, md6_exe_path, gwf_ws, nper, perlen, nstp, tsmult, botm, nrow, ncol, cell_size_x, cell_size_y, tops, idomain, xorigin, yorigin, bed_elevation, kh, kv, chd_data_converted, head_filerecord, budget_filerecord, prt_ws, mp7_ws, write, run, plot, silent=True)
------------------

----- stdout -----
Building GWF model for Hyporheic_Project
An error occurred when trying to create the directory C:\Users\u4eeevmq\Documents\Python\Flo_Py\flopy\modflowExe\mf6.exe: Cannot create a file when that file already exists
------------------

[1;31m---------------------------------------------------------------------------[0m
[1;31mTypeError[0m                                 Traceback (most recent call last)
Cell [1;32mIn[2], line 56[0m
[0;32m     53[0m         [38;5;28mprint[39m([38;5;124mf[39m[38;5;124m"[39m[38;5;124mAn error occurred while building, running, or plotting the particle models: [39m[38;5;132;01m{[39;00me[38;5;132;01m}[39;00m[38;5;124m"[39m)
[0;32m     55[0m [38;5;66;03m# Example usage:[39;00m
[1;32m---> 56[0m [43mscenario[49m[43m([49m[43msim_name[49m[43m,[49m[43m [49m[43mgwf_name[49m[43m,[49m[43m [49m[43mmd6_exe_path[49m[43m,[49m[43m [49m[43mgwf_ws[49m[43m,[49m[43m [49m[43mnper[49m[43m,[49m[43m [49m[43mperlen[49m[43m,[49m[43m [49m[43mnstp[49m[43m,[49m[43m [49m[43mtsmult[49m[43m,[49m[43m [49m[43mbotm[49m[43m,[49m[43m [49m[43mnrow[49m[43m,[49m[43m [49m[43mncol[49m[43m,[49m[43m [49m[43mcell_size_x[49m[43m,[49m[43m [49m[43mcell_size_y[49m[43m,[49m[43m [49m[43mtops[49m[43m,[49m[43m [49m[43midomain[49m[43m,[49m[43m [49m[43mxorigin[49m[43m,[49m[43m [49m[43myorigin[49m[43m,[49m[43m [49m[43mbed_elevation[49m[43m,[49m[43m [49m[43mkh[49m[43m,[49m[43m [49m[43mkv[49m[43m,[49m[43m [49m[43mchd_data_converted[49m[43m,[49m[43m [49m[43mhead_filerecord[49m[43m,[49m[43m [49m[43mbudget_filerecord[49m[43m,[49m[43m [49m[43mprt_ws[49m[43m,[49m[43m [49m[43mmp7_ws[49m[43m,[49m[43m [49m[43mwrite[49m[43m,[49m[43m [49m[43mrun[49m[43m,[49m[43m [49m[43mplot[49m[43m,[49m[43m [49m[43msilent[49m[38;5;241;43m=[39;49m[38;5;28;43;01mTrue[39;49;00m[43m)[49m

Cell [1;32mIn[2], line 4[0m, in [0;36mscenario[1;34m(sim_name, gwf_name, md6_exe_path, gwf_ws, nper, perlen, nstp, tsmult, botm, nrow, ncol, cell_size_x, cell_size_y, tops, idomain, xorigin, yorigin, bed_elevation, kh, kv, chd_data_converted, head_filerecord, budget_filerecord, prt_ws, mp7_ws, write, run, plot, silent)[0m
[0;32m      2[0m [38;5;28;01mdef[39;00m[38;5;250m [39m[38;5;21mscenario[39m(sim_name, gwf_name, md6_exe_path, gwf_ws, nper, perlen, nstp, tsmult, botm, nrow, ncol, cell_size_x, cell_size_y, tops, idomain, xorigin, yorigin, bed_elevation, kh, kv, chd_data_converted, head_filerecord, budget_filerecord, prt_ws, mp7_ws, write, run, plot, silent[38;5;241m=[39m[38;5;28;01mFalse[39;00m):
[0;32m      3[0m     [38;5;66;03m# Build the GWF model[39;00m
[1;32m----> 4[0m     gwfsim, gwf [38;5;241m=[39m [43mbuild_gwf_model[49m[43m([49m[43msim_name[49m[43m,[49m[43m [49m[43mgwf_name[49m[43m,[49m[43m [49m[43mmd6_exe_path[49m[43m,[49m[43m [49m[43mgwf_ws[49m[43m,[49m[43m [49m[43mnper[49m[43m,[49m[43m [49m[43mperlen[49m[43m,[49m[43m [49m[43mnstp[49m[43m,[49m[43m [49m[43mtsmult[49m[43m,[49m[43m [49m[43mbotm[49m[43m,[49m[43m [49m[43mnrow[49m[43m,[49m[43m [49m[43mncol[49m[43m,[49m[43m [49m[43mcell_size_x[49m[43m,[49m[43m [49m[43mcell_size_y[49m[43m,[49m[43m [49m[43mtops[49m[43m,[49m[43m [49m[43midomain[49m[43m,[49m[43m [49m[43mxorigin[49m[43m,[49m[43m [49m[43myorigin[49m[43m,[49m[43m [49m[43mbed_elevation[49m[43m,[49m[43m [49m[43mkh[49m[43m,[49m[43m [49m[43mkv[49m[43m,[49m[43m [49m[43mchd_data_converted[49m[43m,[49m[43m [49m[43mhead_filerecord[49m[43m,[49m[43m [49m[43mbudget_filerecord[49m[43m)[49m
[0;32m      6[0m     [38;5;66;03m# Debug print to check if the GWF model is built[39;00m
[0;32m      7[0m     [38;5;28mprint[39m([38;5;124m"[39m[38;5;124mGWF model built:[39m[38;5;124m"[39m, gwfsim)

File [1;32m~\Documents\Python\HyporheicFloPy\VQuintana\build_gwf_model.py:53[0m, in [0;36mbuild_gwf_model[1;34m(example_name, gwf_name, gwf_ws, md6_exe_path, nrow, ncol, cell_size_x, cell_size_y, tops, botm, xorigin, yorigin, idomain, nper, perlen, nstp, tsmult, kh, kv, bed_elevation, chd_data_converted, head_filerecord, budget_filerecord)[0m
[0;32m     46[0m gwf [38;5;241m=[39m flopy[38;5;241m.[39mmf6[38;5;241m.[39mModflowGwf(
[0;32m     47[0m     gwfsim, modelname[38;5;241m=[39mgwf_name, model_nam_file[38;5;241m=[39m[38;5;124mf[39m[38;5;124m"[39m[38;5;132;01m{[39;00mgwf_name[38;5;132;01m}[39;00m[38;5;124m.nam[39m[38;5;124m"[39m, save_flows[38;5;241m=[39m[38;5;28;01mTrue[39;00m
[0;32m     48[0m )
[0;32m     50[0m [38;5;66;03m# Instantiate the MODFLOW 6 gwf discretization package[39;00m
[0;32m     51[0m flopy[38;5;241m.[39mmf6[38;5;241m.[39mmodflow[38;5;241m.[39mmfgwfdis[38;5;241m.[39mModflowGwfdis(
[0;32m     52[0m     gwf,
[1;32m---> 53[0m     nlay[38;5;241m=[39m[38;5;28;43mlen[39;49m[43m([49m[43mbotm[49m[43m)[49m,  [38;5;66;03m# Number of layers (based on `botm` list length)[39;00m
[0;32m     54[0m     nrow[38;5;241m=[39mnrow,       [38;5;66;03m# Number of rows in the grid[39;00m
[0;32m     55[0m     ncol[38;5;241m=[39mncol,       [38;5;66;03m# Number of columns in the grid[39;00m
[0;32m     56[0m     delr[38;5;241m=[39mcell_size_x,  [38;5;66;03m# Cell width[39;00m
[0;32m     57[0m     delc[38;5;241m=[39mcell_size_y,  [38;5;66;03m# Cell height[39;00m
[0;32m     58[0m     top[38;5;241m=[39mtops[[38;5;241m0[39m],       [38;5;66;03m# List of dynamically calculated top elevation of the first layer[39;00m
[0;32m     59[0m     botm[38;5;241m=[39mbotm,          [38;5;66;03m# List of bottom elevations for all layers[39;00m
[0;32m     60[0m     idomain[38;5;241m=[39midomain,    [38;5;66;03m# List of dynamically calculated active and inactive cells in the model domain[39;00m
[0;32m     61[0m     xorigin[38;5;241m=[39mxorigin,  [38;5;66;03m# Assign dynamically calculated xorigin[39;00m
[0;32m     62[0m     yorigin[38;5;241m=[39myorigin   [38;5;66;03m# Assign dynamically calculated yorigin[39;00m
[0;32m     63[0m )
[0;32m     65[0m [38;5;66;03m# Add initial conditions (IC package)[39;00m
[0;32m     66[0m strt_array [38;5;241m=[39m np[38;5;241m.[39mfull(([38;5;28mlen[39m(botm), nrow, ncol), bed_elevation)

[1;31mTypeError[0m: object of type 'int' has no len()

